<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 from src\site\apt/introspection.apt.vm at 2021-02-10

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.9.2" />
    <title>GraphQL Java Generator - Maven Plugin &#x2013; GraphQL Maven Plugin (introspection)</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">com.graphql-java-generator:graphql-maven-plugin-project
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="projectVersion">Version: 1.12.2</span>
      </div>
      <div class="xright"><a href="project.html" title="Project on Github">Project on Github</a>        &#xA0;| <span id="publishDate">Last Published: 2021-02-10</span>
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Plugin Usage</h5>
    <ul>
     <li class="none"><a href="README.html" title="Introduction">Introduction</a></li>
     <li class="none"><a href="change_log.html" title="Change Log">Change Log</a></li>
     <li class="none"><a href="customscalars.html" title="Custom Scalars">Custom Scalars</a></li>
     <li class="none"><a href="customtemplates.html" title="Custom Code Templates">Custom Code Templates</a></li>
    </ul>
       <h5>Client mode</h5>
    <ul>
     <li class="none"><a href="client_spring.html" title="Creating a first app (spring)">Creating a first app (spring)</a></li>
     <li class="none"><a href="client_non_spring.html" title="Creating a first app (non spring)">Creating a first app (non spring)</a></li>
     <li class="none"><a href="exec_graphql_requests.html" title="Execute GraphQL requests">Execute GraphQL requests</a></li>
     <li class="none"><a href="client_tutorial.html" title="Client Tutorial">Client Tutorial</a></li>
     <li class="none"><a href="client_subscription.html" title="Subscription">Subscription</a></li>
     <li class="none"><strong>Introspection</strong></li>
     <li class="none"><a href="client_add_relay_connection.html" title="Relay Connections">Relay Connections</a></li>
     <li class="none"><a href="runtimeclasses.html" title="Runtime Classes">Runtime Classes</a></li>
     <li class="none"><a href="client_oauth2.html" title="Access to an OAuth2 GraphQL server">Access to an OAuth2 GraphQL server</a></li>
     <li class="none"><a href="client_personalization.html" title="How to personalize the client app">How to personalize the client app</a></li>
    </ul>
       <h5>Server mode</h5>
    <ul>
     <li class="none"><a href="server.html" title="Server usage">Server usage</a></li>
     <li class="none"><a href="server_tutorial.html" title="Server Tutorial">Server Tutorial</a></li>
     <li class="none"><a href="server_subscription.html" title="Subscription">Subscription</a></li>
     <li class="none"><a href="server_add_relay_connection.html" title="Relay Connections">Relay Connections</a></li>
     <li class="none"><a href="server_oauth2.html" title="Implement an OAuth2 GraphQL server">Implement an OAuth2 GraphQL server</a></li>
     <li class="none"><a href="schema_personalization.html" title="Howto personalize the generated code">Howto personalize the generated code</a></li>
    </ul>
       <h5>Project internal</h5>
    <ul>
     <li class="none"><a href="howto_build.html" title="How to build?">How to build?</a></li>
     <li class="none"><a href="howto_contribute.html" title="How to contribute?">How to contribute?</a></li>
     <li class="none"><a href="howto_pgp_key.html" title="How to create a PGP key?">How to create a PGP key?</a></li>
     <li class="none"><a href="howto_release.html" title="How to release?">How to release?</a></li>
    </ul>
       <h5>Modules</h5>
    <ul>
     <li class="none"><a href="graphql-java-runtime/index.html" title="graphql-java-runtime">graphql-java-runtime</a></li>
     <li class="none"><a href="graphql-maven-plugin/index.html" title="graphql-maven-plugin">graphql-maven-plugin</a></li>
     <li class="none"><a href="graphql-java-client-dependencies/index.html" title="graphql-java-client-dependencies">graphql-java-client-dependencies</a></li>
     <li class="none"><a href="graphql-java-server-dependencies/index.html" title="graphql-java-server-dependencies">graphql-java-server-dependencies</a></li>
     <li class="none"><a href="graphql-maven-plugin-logic/index.html" title="graphql-maven-plugin-logic">graphql-maven-plugin-logic</a></li>
     <li class="none"><a href="graphql-maven-plugin-samples/index.html" title="graphql-maven-plugin-samples">graphql-maven-plugin-samples</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a></li>
    </ul>
      <a href="https://maven.apache.org/" title="Maven" class="poweredBy">
        <img class="poweredBy"  alt="Maven" src="https://maven.apache.org/images/logos/maven-feather.png"     />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
<section>
<h2><a name="Use_GraphQL_introspection_with_the_GraphQL_client_mode"></a>Use GraphQL introspection with the GraphQL client mode</h2>
<ul>
<li><a href="#Use_GraphQL_introspection_with_the_GraphQL_client_mode">Use GraphQL introspection with the GraphQL client mode</a>
<ul>
<li><a href="#What_about_the_server_mode.3F">What about the server mode?</a></li>
<li><a href="#Introspection_in_client_mode">Introspection in client mode</a>
<ul>
<li><a href="#a__typename_in_GraphQL_types">__typename in GraphQL types</a></li>
<li><a href="#Introspection_queries">Introspection queries</a></li></ul></li>
<li><a href="#How_the_code_is_generated">How the code is generated</a></li></ul></li></ul><section>
<h3><a name="What_about_the_server_mode.3F"></a><a name="What_about_the_server_mode">What about the server mode?</a></h3>
<p>On server side, the introspection is directly managed by graphql-java. There is no additional work to do, to make it work.</p></section><section>
<h3><a name="Introspection_in_client_mode">Introspection in client mode</a></h3>
<p>On client side, graphql-java-generator makes it easy to execute GraphQL introspection queries. And the query's response is stored in java classes that match the GraphQL introspection schema.</p>
<p>As specified in the GraphQL specification, there are two main queries: __schema and __type.</p>
<p>You can access to the introspection GraphQL capabilities through the <i>IntrospectionQuery</i> class. This class is generated in the same package as the other classes (see <a href="./client.html">./client.html</a> for details).</p><section>
<h4><a name="a__typename_in_GraphQL_types">__typename in GraphQL types</a></h4>
<p>In the generated code, a field named __typename is added into each java class that is actually a GraphQL type. So you can ask for the GraphQL type name of a response with a query request like this one: </p>
<div class="source">
<pre>                MyQueryType queryType = new MyQueryType(Main.GRAPHQL_ENDPOINT);
                AllFieldCases response = queryType.allFieldCases(&quot;{id __typename}&quot;, null);
</pre></div></section><section>
<h4><a name="Introspection_queries">Introspection queries</a></h4>
<p>You can then execute introspection queries like this: </p>
<div class="source">
<pre>import com.graphql_java_generator.client.introspection.IntrospectionQuery;
import com.graphql_java_generator.client.introspection.__Schema;
import com.graphql_java_generator.client.introspection.__Type;

...

        void myIntrospection() {
                IntrospectionQuery introspectionQuery = new IntrospectionQuery(&quot;https://my.graphql.endpoint/path&quot;);
                __Schema schema = introspectionQuery.__schema(&quot;{types {name fields {name type {name}}}}&quot;);
        }
</pre></div>
<p>Or </p>
<div class="source">
<pre>import com.graphql_java_generator.client.introspection.IntrospectionQuery;
import com.graphql_java_generator.client.introspection.__Schema;
import com.graphql_java_generator.client.introspection.__Type;

...

        void myIntrospection() {
                IntrospectionQuery introspectionQuery = new IntrospectionQuery(&quot;https://my.graphql.endpoint/path&quot;);
                __Type type = introspectionQuery.__type(&quot;{name fields {name type {name}}}&quot;, &quot;MyGraphQLType&quot;);
        }
</pre></div></section></section><section>
<h3><a name="How_the_code_is_generated">How the code is generated</a></h3>
<p>When the plugin is in client mode, the introspection capabilities is generated in the same package as the other classes. This is done by applying the GraphQL plugin against the GraphQL introspection schema. </p>
<p>Then a specific query class is created: <i>__IntrospectionQuery</i></p>
<p>And the String field named <i>__typename</i> is added as a requested scalar field (if not in the original query), for every java classes that represent a GraphQL type. This <b>allows deserialization</b> for interfaces and unions: as the typename is known, the json framework knows what is the original type, and can create the proper class during deserialization.</p></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2021..      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
